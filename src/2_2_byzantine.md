# 비잔틴 장군의 문제
비잔틴 장군의 문제는 분산 시스템에서 노드 간 신뢰와 합의의 어려움을 설명하는 비유적인 문제입니다. 이 문제는 1982년 Leslie Lamport, Robert Shostak, 그리고 Marshall Pease가 제안한 것으로, 분산 환경에서 신뢰할 수 없는 요소(즉, 악의적인 노드나 장애 노드)가 있을 때 합의에 어떤 영향을 미치는지를 설명합니다.

> - 비잔틴 제국의 장군들이 적의 도시를 포위하고 있습니다. 적을 물리치려면 모든 장군이 동일한 시간에 공격해야만 성공할 수 있습니다.
> - 장군들은 전령을 통해 통신하지만, 메시지가 중간에 가로채지거나 변조될 가능성이 있습니다.
> - 일부 장군은 배신자일 수 있으며, 나머지 장군들을 혼란시키기 위해 고의적으로 잘못된 정보를 전달할 수도 있습니다.
> - 충성스러운 장군들은 누가 배신자인지 알 수 없는 상황에서 공동의 합의에 도달해야 하지만, 이 과정에서 서로 간의 신뢰 부족과 정보 불일치로 인해 딜레마에 빠지게 됩니다.

## 비잔틴 장군의 문제와 비트코인
"비잔틴 장군의 문제"가 제기된 지 50년이라는 세월이 지났고, 그동안 수많은 이론과 솔루션이 제시되었지만, 이는 대부분 중앙 집중식 제어에 의존했기 때문에 근본적으로는 해결될 수 없는 문제였습니다.

하지만, 비트코인은 이러한 제한을 제거하고 탈중앙화된 방식으로 문제를 해결했습니다. 대부분의 공학자와 수학자는 Safety 를 최우선 순위로 두고, 그 범주 안에서 최대한 Liveness 를 보장하려는 전략을 펼쳤습니다.
하지만 비트코인은 100% 의 일관성을 포기한다는, 간단하지만 혁신적인 방법을 통해 신뢰 없는 환경에서도 합의를 이루는 방법을 제시했습니다.

비트코인은 참여자들이 수학적 보장을 기반으로 최신의 원장을 공유할 수 있도록 설계되었습니다. 사토시 나카모토는 이를 위해 참여자가 돈을 받거나 보낼 때 따라야 할 규정을 특정 숫자로 표현되도록 설계했습니다.

비트코인의 핵심은 새로운 블록을 생성하는 과정에서 나타납니다. 참여자들은 규정을 기반으로 여러 숫자를 조합해 새로운 블록의 고유값을 찾는 퍼즐 게임을 수행해야 합니다. 이 퍼즐을 해결하는 과정이 바로 **작업 증명(Proof of Work)**입니다. 퍼즐이 풀리면 새로운 블록이 생성되며, 이를 채굴이라고 부릅니다. 작업 증명을 통해 생성된 블록은 정상적인 규정을 준수한 거래만을 포함하며, 부정이 없음을 수학적으로 증명합니다.

마지막으로 생성된 블록의 고유값이 유효하다면, 해당 블록을 생성하는 과정에서 사용된 모든 계산도 올바르다는 뜻이 됩니다. 이로써 비트코인 네트워크는 작업 증명을 통해 검증된 블록만을 수용하며, 이를 기반으로 합의 구조를 구축합니다.

작업 증명을 거친 블록은 네트워크 참여자 간에 실시간으로 공유됩니다. 이 과정에서 모든 참여자는 다른 노드가 부정행위를 저질렀는지 걱정할 필요 없이, 항상 동일한 원장을 유지하게 됩니다. 결과적으로, 비트코인은 은행이나 중앙기관의 역할 없이도 신뢰를 보장하며, 모든 참여자가 동일한 데이터를 갖도록 하는 데 성공했습니다.

이 설계는 **비잔틴 장애 허용(Byzantine Fault Tolerance)**을 달성하기 위한 혁신적인 접근법으로 평가받고 있습니다. 비트코인은 작업 증명과 분산 원장을 기반으로 탈중앙화된 금융 시스템의 가능성을 열었으며, 이는 기존 금융 구조에 큰 변화를 가져왔습니다.