# 비잔틴 장군의 문제
비잔틴 장군의 문제는 분산 시스템에서 노드 간 신뢰와 합의의 어려움을 설명하는 비유적인 문제입니다. 이 문제는 1982년 Leslie Lamport, Robert Shostak, 그리고 Marshall Pease가 제안한 것으로, 분산 환경에서 신뢰할 수 없는 요소(즉, 악의적인 노드나 장애 노드)가 있을 때 합의를 이루는 데 따르는 도전 과제를 상징적으로 나타냅니다.

> - 비잔틴 제국의 장군들이 적의 도시를 포위하여 공성을 준비하고 있다고 가정합니다. 장군들은 적을 물리치기 위해 모두가 동일한 시간에 공격해야만 성을 함락할 수 있습니다.
> - 비잔티움의 장군들은 전령을 통해 서로 통신이 가능하지만, 통신이 중간에 가로막히거나 전달된 명령이 변조될 수 있습니다. 또한, 장군들 중 일부는 배신자로써 다른 장군들에게 거짓 정보를 전달할 수도 있습니다.
> - 어떤 장군이 모반을 하려는지 확실하지 못한 상황에서 충성스러운 장군들은 배신자들이 병력을 물려 공성을 방해하거나 적에게 소식을 넘길수 있다는 상황 때문에 딜레마에 빠집니다.

## 비트코인
"비잔틴 장군의 문제"가 제기된 지 50년이라는 세월이 지났고, 그동안 수많은 이론과 솔루션이 제시되었지만, 이는 대부분 중앙 집중식 제어에 의존했기 때문에 근본적으로는 해결될 수 없는 문제였습니다.

대부분의 공학자와 수학자는 Safety 를 최우선 순위로 두고, 그 범주 안에서 최대한 Liveness 를 보장하려는 전략을 펼쳤습니다.
하지만 비트코인은 100% 의 일관성을 포기한다는, 간단하지만 혁신적인 방법을 통해 비잔틴 장군의 문제를 해결하였습니다. 이는 지금까지는 존재하지 않았던 새로운 종류의 네트워크와 디지털 시스템을 만들 수 있다는 점을 의미합니다.

## 비트코인과 비잔틴 장군의 문제

모든 장군에게 '장군은 메시지를 보내기 위해 10분의 시간을 가지며, 메시지는 모든 장군의 메시지와 메시지를 보내기 위해 10분을 들였다는 증거를 포함한다.'라는 규칙이 추가됨에 따라 중간의 비잔틴 장군이 존재하더라도 다른 장군들은 이 장군이 거짓임을 밝혀낼 수 있다. 혹은 초기에 메시지를 받은 장군이 존재하더라도 정직한 장군의 비율이 과반수이기만 하면, 시간이 흐를 수록 배신자 장군은 장군 무리 고립되고, 앞선 시나리오처럼 정직한 장군들이 성을 함락할 수 있게 된다. 

비트코인을 설계할 당시 사토시 나카모토는 참여자 모두가 가장 최신의 원장을 같이 보유할 수 있다는 점을 수학적으로 보장할 수 있도록 했다. 우선 비트코인은 참여자가 돈을 받는 순간부터 보내는 순간까지 지켜야 할 기본적인 규정을 특정한 숫자로 표현되도록 설계해놓고 있다. 사토시는 새로운 블록을 만들 때 이런 여러 숫자를 모아 이를 기초로 새로 만들 블록의 고유번호를 찾는 일종의 퍼즐 게임을 풀도록 했는데 퍼즐을 푸는 과정이 곧 작업증명이며 수학 퍼즐이 풀리면 블록이 만들어지며 이를 채굴이라고 한다. 작업증명을 수행해 퍼즐이 풀렸다면 결국 블록은 부정이 없도록 각종 규정을 지킨 정상 거래를 모아 정상적인 방법으로 만든 원장이라는 의미이다. 마지막에 나온 블록의 고윳값이 정상이면 계산과정에 들어간 모든 숫자 역시 올바른 값이므로 수학적으로도 이 값을 수용해도 좋다는 의미이다. 비트코인은 결국 작업증명을 거친 블록을 받아들이는 방식의 합의 구조를 갖추고 있다. 작업증명을 거친 블록을 실시간 공유함으로써 참여자들은 다른 장군들이 부정을 저질렀는지 걱정할 필요 없이 결국 모두가 항상 같은 원장 상태에 도달해 있게 되는 셈이다. 은행과 중앙기관의 역할은 이러한 비트코인 시스템 내에서 사라졌으며 비잔틴 장애 허용을 달성하는 가장 혁신적인 접근으로 여겨지고 있다.